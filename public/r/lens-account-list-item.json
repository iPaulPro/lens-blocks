{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "lens-account-list-item",
  "type": "registry:component",
  "title": "Lens Account List Item",
  "description": "A list for a Lens accounts displaying the account's avatar, name, and handle.",
  "dependencies": ["@lens-protocol/react@0.0.0-canary-20250721180328", "lucide-react"],
  "registryDependencies": ["avatar", "button", "skeleton"],
  "files": [
    {
      "path": "registry/new-york/blocks/login/components/lens-account-list-item.tsx",
      "content": "\"use client\";\n\nimport { Account, AuthenticatedUser } from \"@lens-protocol/react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/registry/new-york/ui/avatar\";\nimport { UserCircle2, ChevronRight, Loader, CheckCircle2Icon } from \"lucide-react\";\nimport { truncateAddress } from \"@/registry/new-york/blocks/login/lib/lens-utils\";\n\ntype LensAccountListItemProps = {\n  account: Account;\n  selectedAccount?: Account | null;\n  onAccountSelected?: (account: Account) => void;\n  authenticatedUser?: AuthenticatedUser | null;\n  showChevron?: boolean;\n};\n\nexport function LensAccountListItem({\n  account,\n  selectedAccount,\n  onAccountSelected,\n  authenticatedUser,\n  showChevron = true,\n}: LensAccountListItemProps) {\n  const isAuthenticated = authenticatedUser?.address.toLowerCase() === account.address.toLowerCase();\n\n  return (\n    <button\n      type=\"button\"\n      disabled={selectedAccount?.address !== undefined || (onAccountSelected && isAuthenticated)}\n      onClick={() => onAccountSelected?.(account)}\n      className=\"w-full flex items-center text-start p-2 gap-2 enabled:cursor-pointer enabled:hover:bg-neutral-100\n                disabled:opacity-45 rounded-sm\"\n    >\n      <Avatar className=\"flex-none w-10 h-10\">\n        <AvatarImage src={account.metadata?.picture} alt=\"Account avatar\" />\n        <AvatarFallback>\n          <UserCircle2 className=\"w-10 h-10 opacity-45\" />\n        </AvatarFallback>\n      </Avatar>\n      <div className=\"flex-grow flex flex-col w-full min-w-0\">\n        <div className=\"flex gap-1 items-center\">\n          <span className=\"text-sm font-semibold\">\n            {account.metadata?.name ?? account.username?.localName ?? \"[anonymous]\"}\n          </span>\n        </div>\n        <span className=\"text-xs opacity-65 truncate\">\n          {account.metadata?.name ? \"@\" + account.username?.localName : truncateAddress(account.address)}\n        </span>\n      </div>\n      {selectedAccount?.address == account.address ? (\n        <Loader className=\"animate-spin flex-none opacity-45 w-4 h-4\" />\n      ) : onAccountSelected && isAuthenticated ? (\n        <CheckCircle2Icon className=\"flex-none opacity-45 w-4 h-4 text-accent-foreground\" />\n      ) : (\n        showChevron && <ChevronRight className=\"flex-none opacity-45 w-4 h-4\" />\n      )}\n    </button>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/login/components/lens-account-list-item-skeleton.tsx",
      "content": "import { Skeleton } from \"@/registry/new-york/ui/skeleton\";\n\nexport const LensAccountListItemSkeleton = () => {\n  return (\n    <div className=\"flex items-center space-x-2 p-2\">\n      <Skeleton className=\"h-10 w-10 rounded-full flex-none\" />\n      <div className=\"flex-grow space-y-1.5\">\n        <Skeleton className=\"h-4 w-5/12\" />\n        <Skeleton className=\"h-3 w-3/12\" />\n      </div>\n      <Skeleton className=\"w-4 h-4\" />\n    </div>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/login/lib/lens-utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport const ZeroAddress = \"0x0000000000000000000000000000000000000000\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Truncate a string to a maximum length, adding an ellipsis in the middle\n * @param address The string to truncate\n * @param maxLength The maximum length of the truncated string, excluding the ellipsis and 0x prefix\n */\nexport const truncateAddress = (address: string, maxLength: number = 8): string => {\n  if (address.length <= maxLength) {\n    return address;\n  }\n  const ellipsis = \"â€¦\";\n  const startLength = Math.ceil((maxLength + ellipsis.length) / 2) + 1;\n  const endLength = Math.floor((maxLength + ellipsis.length) / 2);\n  return address.slice(0, startLength) + ellipsis + address.slice(address.length - endLength);\n};\n\nexport const getCidFromIpfsUrl = (ipfsUrl: string): string => {\n  if (!ipfsUrl.startsWith(\"ipfs://\")) throw new Error(\"IPFS urls must begin with ipfs://\");\n  return ipfsUrl.replace(\"ipfs://\", \"\").replace(/^\\/+|\\/+$/g, \"\");\n};\n\nexport const ipfsUrlToGatewayUrl = (\n  ipfsUrl: string | undefined,\n  gatewayDomain: string = \"https://ipfs.io/ipfs/\",\n): string | undefined => {\n  if (!ipfsUrl || ipfsUrl.length === 0 || !ipfsUrl.startsWith(\"ipfs://\")) return ipfsUrl;\n  const cid = getCidFromIpfsUrl(ipfsUrl);\n  const gatewayUrl = gatewayDomain + cid;\n  const path = ipfsUrl.split(cid)[1];\n  return path ? `${gatewayUrl}${path}` : gatewayUrl;\n};\n\nexport const arweaveUrlToGatewayUrl = (\n  arUrl: string | undefined,\n  gatewayDomain: string = \"https://arweave.net/\",\n): string | undefined => {\n  if (!arUrl || arUrl.length === 0 || !arUrl.startsWith(\"ar://\")) return arUrl;\n  const txId = arUrl.replace(\"ar://\", \"\");\n  return `${gatewayDomain}${txId}`;\n};\n\nexport const lensUrlToGatewayUrl = (\n  lensUrl: string | undefined,\n  gatewayDomain: string = \"https://api.grove.storage/\",\n): string | undefined => {\n  if (!lensUrl || lensUrl.length === 0 || !lensUrl.startsWith(\"lens://\")) return lensUrl;\n  const txId = lensUrl.replace(\"lens://\", \"\");\n  return `${gatewayDomain}${txId}`;\n};\n\n/**\n * Parse a URI and convert it to a gateway URL if it is an IPFS, Arweave, or Lens URL\n * @param uri The URI to parse\n */\nexport const parseUri = (uri: string | null | undefined): string | undefined => {\n  if (!uri) return undefined;\n\n  try {\n    const { protocol } = new URL(uri);\n    switch (protocol) {\n      case \"ipfs:\":\n        return ipfsUrlToGatewayUrl(uri);\n      case \"ar:\":\n        return arweaveUrlToGatewayUrl(uri);\n      case \"lens:\":\n        return lensUrlToGatewayUrl(uri);\n      default:\n        return uri;\n    }\n  } catch {\n    return undefined;\n  }\n};\n",
      "type": "registry:lib"
    }
  ]
}
