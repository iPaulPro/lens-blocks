{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "login-button",
  "type": "registry:block",
  "title": "Lens Login Button",
  "description": "A full-featured login button for Lens Protocol that hooks into the Lens React SDK, uses ConnectKit for wallet connections, supports account switching and more.",
  "dependencies": [
    "@lens-protocol/react@0.0.0-canary-20250721180328",
    "connectkit@1.9.0",
    "react-virtuoso@4.13.0",
    "lucide-react"
  ],
  "registryDependencies": ["avatar", "button", "dialog", "scroll-area", "skeleton"],
  "files": [
    {
      "path": "registry/new-york/blocks/account/lens-login-block.tsx",
      "content": "\"use client\";\n\nimport { LensLoginButton } from \"@/registry/new-york/blocks/account/components/lens-login-button\";\nimport { AuthenticatedUser, PublicClient, SessionClient, useSessionClient } from \"@lens-protocol/react\";\nimport { lensClient } from \"@/lib/lens/client\";\n\nexport function LensLoginBlock() {\n  const { data: sessionClient, loading: sessionLoading } = useSessionClient();\n\n  // Callback function that is called when the user successfully logs in\n  const onLoginSuccess = (authenticatedUser: AuthenticatedUser) => {\n    console.log(\"Login successful for user:\", authenticatedUser);\n  };\n\n  // You can handle errors here if needed\n  const onLoginError = (error: Error) => {\n    console.error(\"Login failed with error:\", error);\n  };\n\n  if (!sessionClient || (sessionLoading && !sessionClient)) {\n    return <>Loading...</>; // TODO loader\n  }\n\n  return <LensLoginButton lensClient={sessionClient ?? lensClient} onSuccess={onLoginSuccess} onError={onLoginError} />;\n}\n",
      "type": "registry:block"
    },
    {
      "path": "registry/new-york/blocks/account/components/lens-login-button.tsx",
      "content": "\"use client\";\n\nimport {\n  Account,\n  AuthenticatedUser,\n  LoginError,\n  PublicClient,\n  SessionClient,\n  useAuthenticatedUser,\n  useLogout,\n} from \"@lens-protocol/react\";\nimport { useModal } from \"connectkit\";\nimport { useAccount, useDisconnect, useWalletClient } from \"wagmi\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport config from \"@/lib/lens/config\";\nimport { Button } from \"@/registry/new-york/ui/button\";\nimport { useLensLoginWithWagmi } from \"@/registry/new-york/blocks/account/hooks/use-lens-login-with-wagmi\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/registry/new-york/ui/dialog\";\nimport { LensAccountChooser } from \"@/registry/new-york/blocks/account/components/lens-account-chooser\";\nimport { Link2Off } from \"lucide-react\";\n\ntype LoginButtonProps = {\n  /**\n   * The Lens Client used for making public and authenticated calls\n   */\n  lensClient: PublicClient | SessionClient;\n\n  /**\n   * The address of the app that is logging in.\n   * This is optional and can be used to specify the app address.\n   */\n  appAddress?: string;\n\n  /**\n   * Callback function that is called when the user successfully logs in.\n   * It receives the authenticated user as an argument.\n   */\n  onSuccess?: (authenticatedUser: AuthenticatedUser) => void;\n\n  /**\n   * Callback function that is called when there is an error during login.\n   * It receives the error as an argument.\n   */\n  onError?: (error: LoginError) => void;\n};\n\nexport function LensLoginButton(props: LoginButtonProps) {\n  const { appAddress, onSuccess, onError, lensClient } = props;\n\n  const [accountChooserOpen, setAccountChooserOpen] = useState(false);\n  const [selectedAccount, setSelectedAccount] = useState<Account | null>(null);\n\n  const { setOpen: setConnectModalOpen } = useModal({\n    onConnect: () => {\n      setAccountChooserOpen(true);\n    },\n  });\n  const { address: walletAddress, isConnected, isConnecting, isReconnecting } = useAccount();\n  const { disconnect } = useDisconnect();\n  const { data: walletClient } = useWalletClient({ chainId: config.chain.id });\n\n  const { execute: login, loading: loginLoading, error: loginError } = useLensLoginWithWagmi();\n  const { execute: logout, loading: logoutLoading } = useLogout();\n  const { data: authenticatedUser, loading: authenticatedUserLoading } = useAuthenticatedUser();\n\n  useEffect(() => {\n    if (loginError && onError) {\n      onError(loginError);\n    }\n  }, [loginError, onError]);\n\n  const onAccountSelected = useCallback(\n    async (selectedAccount: Account) => {\n      if (authenticatedUserLoading || loginLoading || !walletClient) {\n        return;\n      }\n\n      setSelectedAccount(selectedAccount);\n\n      const user = await login(walletClient, selectedAccount, appAddress);\n      if (user) {\n        setAccountChooserOpen(false);\n        onSuccess?.(user);\n      }\n      setSelectedAccount(null);\n    },\n    [onSuccess, walletClient, authenticatedUserLoading, loginLoading],\n  );\n\n  const onLoginButtonClick = () => {\n    if (!isConnected) {\n      setConnectModalOpen(true);\n    } else {\n      setAccountChooserOpen(true);\n    }\n  };\n\n  const onDisconnectButtonClick = async () => {\n    disconnect();\n    if (lensClient.isSessionClient()) {\n      await logout();\n    }\n  };\n\n  return (\n    <>\n      <Button onClick={onLoginButtonClick} disabled={isConnecting || isReconnecting}>\n        <svg fill=\"none\" viewBox=\"0 0 64 64\" className=\"text-background\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M42.311 23.793c1.788-1.654 4.133-2.68 6.745-2.68 5.807.002 10.51 4.71 10.51 10.521 0 5.027-4.973 9.326-6.217 10.316-5.815 4.63-13.39 7.339-21.566 7.339-8.176 0-15.749-2.707-21.565-7.34C8.98 40.96 4 36.653 4 31.634c0-5.811 4.705-10.521 10.507-10.521 2.615 0 4.96 1.026 6.748 2.68l.185-.092c.408-5.422 4.817-9.7 10.343-9.7 5.527 0 9.935 4.278 10.344 9.7l.184.091v.002\"\n            clipRule=\"evenodd\"\n            fill=\"currentColor\"\n          />\n        </svg>\n        <span>Log in with Lens</span>\n      </Button>\n      {walletAddress && (\n        <Dialog open={accountChooserOpen} onOpenChange={setAccountChooserOpen}>\n          <DialogContent className=\"sm:max-w-sm\">\n            <DialogHeader>\n              <DialogTitle>Select an account</DialogTitle>\n              <DialogDescription>Choose a Lens account to log in with.</DialogDescription>\n            </DialogHeader>\n            <div className=\"flex flex-col gap-4\">\n              <div className=\"h-48\">\n                <LensAccountChooser\n                  walletAddress={walletAddress}\n                  selectedAccount={selectedAccount}\n                  onAccountSelected={onAccountSelected}\n                />\n              </div>\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                className=\"w-fit text-xs hover:bg-destructive/90 hover:text-white z-10\"\n                disabled={logoutLoading}\n                onClick={() => onDisconnectButtonClick()}\n              >\n                {logoutLoading ? (\n                  <>\n                    <Link2Off className=\"size-3\" />\n                    Disconnecting...\n                  </>\n                ) : (\n                  <>\n                    <Link2Off className=\"size-3\" />\n                    Disconnect Wallet\n                  </>\n                )}\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/account/components/lens-account-chooser.tsx",
      "content": "\"use client\";\n\nimport {\n  Account,\n  AccountAvailable,\n  Cursor,\n  evmAddress,\n  PageSize,\n  useAccountsAvailable,\n  useAuthenticatedUser,\n} from \"@lens-protocol/react\";\nimport { useState } from \"react\";\nimport PaginatedList from \"@/registry/new-york/common/components/paginated-list\";\nimport { LensAccountListItem } from \"@/registry/new-york/common/components/lens-account-list-item\";\nimport { LensAccountListItemSkeleton } from \"@/registry/new-york/common/components/lens-account-list-item-skeleton\";\n\ntype AccountChooserProps = {\n  walletAddress: string;\n  selectedAccount?: Account | null;\n  onAccountSelected?: (account: Account) => void;\n};\n\nexport const LensAccountChooser = ({ walletAddress, selectedAccount, onAccountSelected }: AccountChooserProps) => {\n  const [cursor, setCursor] = useState<Cursor | null>(null);\n\n  const { data, loading, error } = useAccountsAvailable({\n    managedBy: evmAddress(walletAddress),\n    pageSize: PageSize.Fifty,\n    cursor,\n  });\n\n  const { data: authenticatedUser } = useAuthenticatedUser();\n\n  const sortFn = (a: AccountAvailable, b: AccountAvailable) => {\n    const authAddress = authenticatedUser?.address.toLowerCase();\n    const aAddress = a.account.address.toLowerCase();\n    const bAddress = b.account.address.toLowerCase();\n\n    if (aAddress === authAddress) return -1;\n    if (bAddress === authAddress) return 1;\n\n    if (a.account.metadata?.name) {\n      if (b.account.metadata?.name) {\n        return a.account.metadata.name.localeCompare(b.account.metadata.name);\n      }\n      return a.account.metadata.name.localeCompare(b.account.username?.localName || \"\");\n    }\n    if (a.account.username?.localName) {\n      return a.account.username.localName.localeCompare(b.account.username?.localName || \"\");\n    }\n    return a.account.address.localeCompare(b.account.address);\n  };\n\n  return (\n    <PaginatedList\n      className=\"border rounded-md px-2\"\n      data={data}\n      loading={loading}\n      error={error}\n      cursor={cursor}\n      setCursor={setCursor}\n      emptyMessage=\"No accounts available\"\n      errorMessage=\"Error loading accounts\"\n      sortFn={sortFn}\n      renderItem={(item, index) => (\n        <LensAccountListItem\n          account={item.account}\n          selectedAccount={selectedAccount}\n          onAccountSelected={onAccountSelected}\n          authenticatedUser={authenticatedUser}\n          key={item.account.address}\n          renderDivider={() => <div className=\"h-0.5\"></div>}\n        />\n      )}\n      renderSkeleton={() => (\n        <div className={\"flex flex-col gap-0.5 max-h-full overflow-x-hidden\"}>\n          {Array.from({ length: 3 }).map((_, index) => (\n            <LensAccountListItemSkeleton key={index} />\n          ))}\n        </div>\n      )}\n    />\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/common/components/lens-account-list-item.tsx",
      "content": "\"use client\";\n\nimport { Account, AuthenticatedUser } from \"@lens-protocol/react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/registry/new-york/ui/avatar\";\nimport { UserCircle2, ChevronRight, Loader, CheckCircle2Icon } from \"lucide-react\";\nimport { truncateAddress } from \"@/registry/new-york/common/lib/lens-utils\";\nimport { ReactNode } from \"react\";\n\ntype LensAccountListItemProps = {\n  account: Account;\n  selectedAccount?: Account | null;\n  onAccountSelected?: (account: Account) => void;\n  authenticatedUser?: AuthenticatedUser | null;\n  showChevron?: boolean;\n  renderDivider?: () => ReactNode;\n};\n\nexport function LensAccountListItem({\n  account,\n  selectedAccount,\n  onAccountSelected,\n  authenticatedUser,\n  showChevron = true,\n  renderDivider,\n}: LensAccountListItemProps) {\n  const isAuthenticated = authenticatedUser?.address.toLowerCase() === account.address.toLowerCase();\n  const isSelected = onAccountSelected && isAuthenticated;\n\n  const Divider = renderDivider;\n\n  return (\n    <div>\n      <button\n        type=\"button\"\n        disabled={selectedAccount?.address !== undefined || isSelected}\n        onClick={() => onAccountSelected?.(account)}\n        className={`w-full flex items-center text-start p-2 gap-2 enabled:cursor-pointer enabled:hover:bg-neutral-100 enabled:focus:bg-neutral-100 focus:outline-0 rounded-sm ${isSelected ? \"border\" : \"disabled:opacity-45\"}`}\n      >\n        <Avatar className=\"flex-none w-10 h-10\">\n          <AvatarImage src={account.metadata?.picture} alt=\"Account avatar\" />\n          <AvatarFallback>\n            <UserCircle2 className=\"w-10 h-10 opacity-45\" />\n          </AvatarFallback>\n        </Avatar>\n        <div className=\"flex-grow flex flex-col w-full min-w-0\">\n          <div className=\"flex gap-1 items-center\">\n            <span className=\"text-sm font-semibold\">\n              {account.metadata?.name ?? account.username?.localName ?? \"[anonymous]\"}\n            </span>\n          </div>\n          <span className=\"text-xs opacity-65 truncate\">\n            {account.metadata?.name ? \"@\" + account.username?.localName : truncateAddress(account.address)}\n          </span>\n        </div>\n        {selectedAccount?.address == account.address ? (\n          <Loader className=\"animate-spin flex-none opacity-45 w-4 h-4\" />\n        ) : showChevron && isSelected ? (\n          <CheckCircle2Icon className=\"flex-none opacity-45 w-4 h-4 text-accent-foreground\" />\n        ) : (\n          showChevron && <ChevronRight className=\"flex-none opacity-45 w-4 h-4\" />\n        )}\n      </button>\n      {Divider && <Divider />}\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/common/components/lens-account-list-item-skeleton.tsx",
      "content": "import { Skeleton } from \"@/registry/new-york/ui/skeleton\";\n\nexport const LensAccountListItemSkeleton = () => {\n  return (\n    <div className=\"flex items-center space-x-2 p-2\">\n      <Skeleton className=\"h-10 w-10 rounded-full flex-none\" />\n      <div className=\"flex-grow space-y-1.5\">\n        <Skeleton className=\"h-4 w-5/12\" />\n        <Skeleton className=\"h-3 w-3/12\" />\n      </div>\n      <Skeleton className=\"w-4 h-4\" />\n    </div>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/account/hooks/use-authenticated-lens-account.ts",
      "content": "import { useAccount, useAuthenticatedUser } from \"@lens-protocol/react\";\n\nexport function useAuthenticatedLensAccount() {\n  const { data: authenticatedUser, loading: authenticatedUserLoading } = useAuthenticatedUser();\n\n  const {\n    data: account,\n    loading: accountLoading,\n    error: accountError,\n  } = useAccount({\n    address: authenticatedUser?.address,\n  });\n\n  return {\n    loading: authenticatedUserLoading || accountLoading,\n    data: account,\n    error: accountError,\n  };\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/new-york/blocks/account/hooks/use-lens-login-with-wagmi.ts",
      "content": "import { WalletClient } from \"viem\";\nimport { useState } from \"react\";\nimport {\n  Account,\n  AuthenticatedUser,\n  evmAddress,\n  LoginError,\n  UnexpectedError,\n  useLogin,\n  useSessionClient,\n  useSwitchAccount,\n} from \"@lens-protocol/react\";\n\ntype UseLensLoginWithWagmiReturnType = {\n  execute: (walletClient: WalletClient, account: Account, appAddress?: string) => Promise<AuthenticatedUser | null>;\n  loading: boolean;\n  error: LoginError | null;\n};\n\nexport function useLensLoginWithWagmi(): UseLensLoginWithWagmiReturnType {\n  const [error, setError] = useState<LoginError | null>(null);\n\n  const { execute: switchAccount, loading: switchingAccounts } = useSwitchAccount();\n  const { execute: executeLogin, loading: loginLoading } = useLogin();\n  const { data: sessionClient } = useSessionClient();\n\n  const execute = async (\n    walletClient: WalletClient,\n    account: Account,\n    appAddress?: string,\n  ): Promise<AuthenticatedUser | null> => {\n    if (loginLoading || switchingAccounts) return null;\n\n    const walletAddress = walletClient.account?.address;\n    if (!walletAddress) {\n      setError(new UnexpectedError(\"Wallet client is not available\"));\n      return null;\n    }\n\n    // First attempt to switch accounts, in case of an active session\n    if (sessionClient?.isSessionClient()) {\n      const switchResult = await switchAccount({\n        account: account.address,\n      });\n      if (switchResult.isOk()) {\n        return switchResult.value;\n      }\n    }\n\n    const res = await executeLogin({\n      ...(account.owner === walletAddress\n        ? {\n            accountOwner: {\n              owner: evmAddress(walletAddress),\n              account: evmAddress(account.address),\n              ...(appAddress && {\n                app: evmAddress(appAddress),\n              }),\n            },\n          }\n        : {\n            accountManager: {\n              manager: evmAddress(walletAddress),\n              account: evmAddress(account.address),\n              ...(appAddress && {\n                app: evmAddress(appAddress),\n              }),\n            },\n          }),\n      signMessage: async (message: string) => {\n        return walletClient.signMessage({ account: walletAddress, message });\n      },\n    });\n\n    if (res.isErr()) {\n      setError(res.error);\n      return null;\n    }\n\n    return res.value;\n  };\n\n  return {\n    execute,\n    loading: loginLoading,\n    error: error,\n  };\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/new-york/common/components/paginated-list.tsx",
      "content": "import { Cursor, Paginated } from \"@lens-protocol/react\";\nimport { ReactNode, useCallback, useEffect, useState } from \"react\";\nimport { AlertTriangle, Loader } from \"lucide-react\";\nimport { Virtuoso } from \"react-virtuoso\";\n\ntype PaginationListProps<Type> = {\n  className?: string;\n  data: Paginated<Type> | undefined;\n  loading: boolean;\n  error: Error | undefined;\n  cursor?: Cursor | null;\n  setCursor: (cursor: Cursor | null) => void;\n  renderItem: (item: Type, index: number) => ReactNode;\n  renderHeader?: () => ReactNode;\n  renderFooter?: () => ReactNode;\n  renderSkeleton?: () => ReactNode;\n  emptyMessage?: string;\n  errorMessage?: string;\n  filterFn?: (item: Type) => boolean;\n  sortFn?: (a: Type, b: Type) => number;\n};\n\nconst PaginatedList = <Type extends any>(props: PaginationListProps<Type>) => {\n  const [items, setItems] = useState<Type[]>([]);\n\n  const DefaultHeader = (): ReactNode => {\n    return <div className=\"h-2\"></div>;\n  };\n\n  const DefaultFooter = (): ReactNode => {\n    if (!loading || !items) return <div className=\"h-2\"></div>;\n    return (\n      <div className=\"w-full h-16 flex items-center justify-center\">\n        <Loader className=\"animate-spin flex-none opacity-45 w-6 h-6\" />\n      </div>\n    );\n  };\n\n  const {\n    className,\n    data,\n    loading,\n    error,\n    filterFn,\n    cursor,\n    setCursor,\n    renderItem,\n    renderSkeleton,\n    renderHeader = DefaultHeader,\n    renderFooter = DefaultFooter,\n    emptyMessage,\n    errorMessage,\n    sortFn,\n  } = props;\n\n  useEffect(() => {\n    if (data?.items) {\n      const items = filterFn ? data.items.filter(filterFn) : data.items;\n      const sortedItems = sortFn ? items.toSorted(sortFn) : items;\n      setItems(prevItems => {\n        return cursor ? [...prevItems, ...sortedItems] : [...sortedItems];\n      });\n    }\n  }, [data]);\n\n  const loadMore = useCallback(() => {\n    if (!data || !data.pageInfo.next) return;\n    setCursor(data.pageInfo.next as Cursor);\n  }, [data, setCursor]);\n\n  const Skeleton = (): ReactNode => {\n    return renderSkeleton ? (\n      renderSkeleton()\n    ) : (\n      <div className=\"w-full h-full flex items-center justify-center\">\n        <Loader className=\"animate-spin flex-none opacity-45 w-6 h-6\" />\n      </div>\n    );\n  };\n\n  const Header = renderHeader;\n  const Footer = renderFooter;\n\n  return (\n    <div className=\"h-full\">\n      {error ? (\n        <div className=\"py-4 flex gap-4 items-center\">\n          <AlertTriangle className=\"w-8 h-8\" />\n          {errorMessage ?? \"Error loading data\"}\n        </div>\n      ) : !items.length && loading ? (\n        <div className={\"h-full\" + (className ? ` ${className}` : \"\")}>\n          <Header />\n          <Skeleton />\n          <Footer />\n        </div>\n      ) : (\n        <div className={\"h-full\" + (className ? ` ${className}` : \"\")}>\n          {items.length === 0 && (\n            <div className=\"py-4 h-full flex items-center justify-center text-sm\">\n              {emptyMessage ?? \"Nothing to show\"}\n            </div>\n          )}\n          <Virtuoso\n            className=\"h-full\"\n            data={items}\n            endReached={loadMore}\n            itemContent={(index, item) => renderItem(item, index)}\n            components={{ Header, Footer }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PaginatedList;\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/new-york/common/lib/lens-utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport const ZeroAddress = \"0x0000000000000000000000000000000000000000\";\nexport const NATIVE_TOKEN = \"0x000000000000000000000000000000000000800A\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Truncate a string to a maximum length, adding an ellipsis in the middle\n * @param address The string to truncate\n * @param maxLength The maximum length of the truncated string, excluding the ellipsis and 0x prefix\n */\nexport const truncateAddress = (address: string, maxLength: number = 8): string => {\n  if (address.length <= maxLength) {\n    return address;\n  }\n  const ellipsis = \"â€¦\";\n  const startLength = Math.ceil((maxLength + ellipsis.length) / 2) + 1;\n  const endLength = Math.floor((maxLength + ellipsis.length) / 2);\n  return address.slice(0, startLength) + ellipsis + address.slice(address.length - endLength);\n};\n\nexport const getCidFromIpfsUrl = (ipfsUrl: string): string => {\n  if (!ipfsUrl.startsWith(\"ipfs://\")) throw new Error(\"IPFS urls must begin with ipfs://\");\n  return ipfsUrl.replace(\"ipfs://\", \"\").replace(/^\\/+|\\/+$/g, \"\");\n};\n\nexport const ipfsUrlToGatewayUrl = (\n  ipfsUrl: string | undefined,\n  gatewayDomain: string = \"https://ipfs.io/ipfs/\",\n): string | undefined => {\n  if (!ipfsUrl || ipfsUrl.length === 0 || !ipfsUrl.startsWith(\"ipfs://\")) return ipfsUrl;\n  const cid = getCidFromIpfsUrl(ipfsUrl);\n  const gatewayUrl = gatewayDomain + cid;\n  const path = ipfsUrl.split(cid)[1];\n  return path ? `${gatewayUrl}${path}` : gatewayUrl;\n};\n\nexport const arweaveUrlToGatewayUrl = (\n  arUrl: string | undefined,\n  gatewayDomain: string = \"https://arweave.net/\",\n): string | undefined => {\n  if (!arUrl || arUrl.length === 0 || !arUrl.startsWith(\"ar://\")) return arUrl;\n  const txId = arUrl.replace(\"ar://\", \"\");\n  return `${gatewayDomain}${txId}`;\n};\n\nexport const lensUrlToGatewayUrl = (\n  lensUrl: string | undefined,\n  gatewayDomain: string = \"https://api.grove.storage/\",\n): string | undefined => {\n  if (!lensUrl || lensUrl.length === 0 || !lensUrl.startsWith(\"lens://\")) return lensUrl;\n  const txId = lensUrl.replace(\"lens://\", \"\");\n  return `${gatewayDomain}${txId}`;\n};\n\n/**\n * Parse a URI and convert it to a gateway URL if it is an IPFS, Arweave, or Lens URL\n * @param uri The URI to parse\n */\nexport const parseUri = (uri: string | null | undefined): string | undefined => {\n  if (!uri) return undefined;\n\n  try {\n    const { protocol } = new URL(uri);\n    switch (protocol) {\n      case \"ipfs:\":\n        return ipfsUrlToGatewayUrl(uri);\n      case \"ar:\":\n        return arweaveUrlToGatewayUrl(uri);\n      case \"lens:\":\n        return lensUrlToGatewayUrl(uri);\n      default:\n        return uri;\n    }\n  } catch {\n    return undefined;\n  }\n};\n",
      "type": "registry:lib"
    }
  ]
}
