{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "video-player",
  "type": "registry:component",
  "title": "Lens Video Player",
  "description": "An video player component for playing video attachments in Lens posts.",
  "dependencies": ["@lens-protocol/react@0.0.0-canary-20250820102520", "lucide-react", "react-player@3.3.2"],
  "registryDependencies": ["@lens-blocks/utils"],
  "files": [
    {
      "path": "registry/new-york/components/common/lens-video-player.tsx",
      "content": "import ReactPlayer from \"react-player\";\nimport { CSSProperties } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { MediaVideo } from \"@lens-protocol/react\";\nimport { getVideoExtension, parseUri } from \"@/registry/new-york/lib/lens-utils\";\n\ntype Props = {\n  video: MediaVideo;\n  preload?: \"none\" | \"metadata\" | \"auto\" | \"\";\n  playsInline?: boolean;\n  style?: CSSProperties;\n  className?: string;\n  onError?: (e: any) => void;\n};\n\nexport default function LensVideoPlayer(props: Props) {\n  const {\n    video,\n    preload = \"metadata\",\n    playsInline = true,\n    style = {\n      width: \"100%\",\n      height: \"100%\",\n    },\n    className,\n    onError,\n  } = props;\n\n  // ReactPlayer looks at the file extension in the source URI to determine how to play the file\n  // so we need to append the extension to the url for instances where the audio url does not have an extension\n  // e.g. when using IPFS urls like https://api.grove.storage/<key>\n  // or when using a proxy server that does not preserve the original file name\n  const videoUri = video ? parseUri(video.item) + \"?extension=.\" + getVideoExtension(video.type) : null;\n\n  if (!videoUri) {\n    return null;\n  }\n\n  return (\n    <div className=\"w-full aspect-video\" onClick={event => event.stopPropagation()}>\n      <ReactPlayer\n        slot=\"media\"\n        src={videoUri}\n        fallback={video.cover}\n        controls={true}\n        preload={preload}\n        playsInline={playsInline}\n        style={style}\n        className={cn(\"w-full h-full rounded-xl\", className)}\n        onError={onError}\n      />\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}
